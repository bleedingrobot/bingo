```html name=index.html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>🎮 Epic Checklist Game Multiplayer</title>
  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-database-compat.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh; color: #333;
    }
    .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
    .header { text-align: center; color: white; margin-bottom: 30px; }
    .header h1 { font-size: 3rem; margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);}
    .header p { font-size: 1.2rem; opacity: 0.9; }
    .main-menu {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px; margin-bottom: 30px;
    }
    .menu-card {
      background: white; border-radius: 15px; padding: 25px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2); transition: transform 0.3s, box-shadow 0.3s; cursor: pointer;
    }
    .menu-card:hover { transform: translateY(-5px); box-shadow: 0 15px 40px rgba(0,0,0,0.3); }
    .menu-card h3 { font-size: 1.5rem; margin-bottom: 15px; color: #4285F4; }
    .menu-card p { color: #666; margin-bottom: 20px; }
    .btn {
      background: #4285F4; color: white; border: none;
      padding: 12px 25px; border-radius: 8px; font-size: 1rem; cursor: pointer;
      transition: background 0.3s; width: 100%;
    }
    .btn:hover { background: #1A73E8; }
    .btn-danger { background: #FF5722; }
    .btn-danger:hover { background: #D84315; }
    .btn-success { background: #4CAF50; }
    .btn-success:hover { background: #2E7D32; }
    .modal {
      display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.7); z-index: 1000;
    }
    .modal-content {
      position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
      background: white; padding: 30px; border-radius: 15px; max-width: 500px; width: 90%; max-height: 80vh; overflow-y: auto;
    }
    .modal h2 { margin-bottom: 20px; color: #4285F4; }
    .form-group { margin-bottom: 20px; }
    .form-group label { display: block; margin-bottom: 5px; font-weight: bold; }
    .form-group input, .form-group select {
      width: 100%; padding: 10px; border: 2px solid #ddd; border-radius: 8px; font-size: 1rem;
    }
    .form-group input:focus, .form-group select:focus { outline: none; border-color: #4285F4; }
    .game-board {
      display: none; background: white; border-radius: 15px; padding: 25px; margin-bottom: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }
    .game-header { text-align: center; margin-bottom: 30px; }
    .game-header h2 { font-size: 2rem; margin-bottom: 10px; }
    .game-header p { color: #666; font-size: 1.1rem; }
    .progress-section {
      background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 30px; text-align: center;
    }
    .progress-stats {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-bottom: 15px;
    }
    .stat { background: white; padding: 15px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);}
    .stat-value { font-size: 1.5rem; font-weight: bold; color: #4285F4; }
    .stat-label { font-size: 0.9rem; color: #666; }
    .progress-message { font-size: 1.2rem; font-weight: bold; margin-top: 15px; }
    .checklist-grid { display: grid; gap: 15px; margin-bottom: 30px; }
    .checklist-grid.mobile { grid-template-columns: 1fr; }
    .checklist-grid.desktop { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }
    .checklist-item {
      display: flex; align-items: center; background: #f8f9fa; padding: 15px; border-radius: 10px;
      border: 2px solid transparent; transition: all 0.3s;
    }
    .checklist-item.completed { background: #4285F4; color: white; border-color: #1A73E8; }
    .checklist-item input[type="checkbox"] { width: 20px; height: 20px; margin-right: 15px; cursor: pointer; }
    .checklist-item label { flex: 1; cursor: pointer; font-size: 1rem; }
    .leaderboard {
      background: white; border-radius: 15px; padding: 25px; margin-bottom: 30px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }
    .leaderboard h2 { text-align: center; margin-bottom: 25px; color: #4285F4; }
    .leaderboard-table { width: 100%; border-collapse: collapse; }
    .leaderboard-table th, .leaderboard-table td { padding: 12px; text-align: left; border-bottom: 1px solid #ddd; }
    .leaderboard-table th { background: #4285F4; color: white; font-weight: bold; }
    .leaderboard-table tr.me { background: #E8F0FE; }
    .leaderboard-table tr:hover { background: #f5f5f5; }
    .theme-classic { --primary: #4285F4; --secondary: #E8F0FE; --accent: #1A73E8; }
    .theme-fire { --primary: #FF5722; --secondary: #FFF3E0; --accent: #D84315; }
    .theme-nature { --primary: #4CAF50; --secondary: #F1F8E9; --accent: #2E7D32; }
    .theme-royal { --primary: #9C27B0; --secondary: #F3E5F5; --accent: #7B1FA2; }
    .theme-neon { --primary: #E91E63; --secondary: #FCE4EC; --accent: #C2185B; }
    @media (max-width: 768px) {
      .header h1 { font-size: 2rem; }
      .main-menu { grid-template-columns: 1fr; }
      .modal-content { width: 95%; margin: 20px; }
      .checklist-grid { grid-template-columns: 1fr !important; }
      .leaderboard-table { font-size: 0.9rem; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>🎮 Epic Checklist Game</h1>
      <p>Challenge yourself with epic checklists and compete with friends in real time!</p>
    </div>
    <div id="mainMenu" class="main-menu">
      <div class="menu-card" onclick="showCreateGameModal()">
        <h3>🎯 Create New Game</h3>
        <p>Start a fresh challenge with your own custom settings</p>
        <button class="btn btn-success">Create Game</button>
      </div>
      <div class="menu-card" onclick="showLeaderboard()">
        <h3>🏆 Leaderboard</h3>
        <p>See how you stack up against other players</p>
        <button class="btn">View Scores</button>
      </div>
      <div class="menu-card" onclick="showAdminPanel()">
        <h3>🛠️ Admin Panel</h3>
        <p>Manage games and reset data (admin only)</p>
        <button class="btn btn-danger">Admin Tools</button>
      </div>
    </div>
    <div id="gameBoard" class="game-board">
      <div class="game-header">
        <h2 id="gameTitle">Your Epic Challenge</h2>
        <p id="gameSubtitle">Complete all items to achieve victory!</p>
      </div>
      <div class="progress-section">
        <div class="progress-stats">
          <div class="stat">
            <div class="stat-value" id="currentScore">0</div>
            <div class="stat-label">Score</div>
          </div>
          <div class="stat">
            <div class="stat-value" id="totalItems">0</div>
            <div class="stat-label">Total Items</div>
          </div>
          <div class="stat">
            <div class="stat-value" id="completionPercent">0%</div>
            <div class="stat-label">Complete</div>
          </div>
        </div>
        <div class="progress-message" id="progressMessage">💪 Let's get started!</div>
      </div>
      <!-- Live leaderboard for this game -->
      <div id="liveLeaderboard" class="leaderboard" style="margin-bottom:15px;">
        <h2 style="font-size:1.2rem;">Live Player Progress</h2>
        <table class="leaderboard-table">
          <thead>
            <tr>
              <th>👤 Player</th>
              <th>⚡ Score</th>
              <th>🎯 Difficulty</th>
              <th>🎨 Theme</th>
              <th>📈 Progress</th>
            </tr>
          </thead>
          <tbody id="liveLeaderboardBody"></tbody>
        </table>
      </div>
      <div id="checklistContainer" class="checklist-grid"></div>
      <button class="btn" onclick="backToMenu()">Back to Menu</button>
    </div>
    <div id="leaderboard" class="leaderboard" style="display: none;">
      <h2>🏆 Player Leaderboard</h2>
      <table class="leaderboard-table">
        <thead>
          <tr>
            <th>🏆 Rank</th>
            <th>👤 Player</th>
            <th>⚡ Score</th>
            <th>🎯 Difficulty</th>
            <th>🎨 Theme</th>
            <th>📈 Progress</th>
            <th>📅 Created</th>
          </tr>
        </thead>
        <tbody id="leaderboardBody"></tbody>
      </table>
      <button class="btn" onclick="hideLeaderboard()" style="margin-top: 20px;">Back to Menu</button>
    </div>
    <!-- Create Game Modal -->
    <div id="createGameModal" class="modal">
      <div class="modal-content">
        <h2>🎯 Create New Game</h2>
        <form id="createGameForm">
          <div class="form-group">
            <label for="playerName">👤 Player Name:</label>
            <input type="text" id="playerName" required placeholder="Enter your name" maxlength="20">
          </div>
          <div class="form-group">
            <label for="deviceType">📱 Device Type:</label>
            <select id="deviceType">
              <option value="desktop">💻 Desktop (Compact Layout)</option>
              <option value="mobile">📱 Mobile (Touch-Friendly)</option>
            </select>
          </div>
          <div class="form-group">
            <label for="difficulty">🎯 Difficulty Level:</label>
            <select id="difficulty">
              <option value="easy">🟢 Easy (3×3 = 9 items)</option>
              <option value="normal">🟡 Normal (4×5 = 20 items)</option>
              <option value="hard">🟠 Hard (5×6 = 30 items)</option>
              <option value="epic">🔴 Epic (6×6 = 36 items)</option>
            </select>
          </div>
          <div class="form-group">
            <label for="theme">🎨 Theme:</label>
            <select id="theme">
              <option value="classic">💙 Classic (Blue)</option>
              <option value="fire">🔥 Fire (Red/Orange)</option>
              <option value="nature">🌿 Nature (Green)</option>
              <option value="royal">👑 Royal (Purple)</option>
              <option value="neon">⚡ Neon (Pink/Cyan)</option>
            </select>
          </div>
          <button type="submit" class="btn btn-success">🚀 Create Game</button>
          <button type="button" class="btn" onclick="closeModal('createGameModal')">Cancel</button>
        </form>
      </div>
    </div>
  </div>
  <script>
    // Firebase config for your project
    const firebaseConfig = {
      apiKey: "AIzaSyDeQPS8fkc6uH9shQye35At98Fa5V62Z7A",
      authDomain: "bingo-e3517.firebaseapp.com",
      databaseURL: "https://bingo-e3517-default-rtdb.firebaseio.com",
      projectId: "bingo-e3517",
      storageBucket: "bingo-e3517.appspot.com",
      messagingSenderId: "338765367468",
      appId: "1:338765367468:web:9d539fe8e1b5351c123709",
      measurementId: "G-VFXRMS6LN7"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // --- Custom checklist items as provided by user ---
    const checklistItems = [
      "The Wi-Fi password is written on a whiteboard",
      "Key concept defined early in the session",
      "Presenter’s family photo",
      "Awkward mixer",
      "You are asked to write something on post-it notes",
      "Personal anecdote involving presenter’s children",
      "You are asked to share the ideas of someone you have talked to",
      "An evaluation sheet to finish the day",
      "A takeaway task to do at school",
      "Presenter will say, “Chat with the person next to you about what you’re thinking about.”",
      "Awkward silence",
      "You are asked to share an example of practice from your school",
      "Whole group sharing",
      "Presenter uses the word “mahi” or “kai.”",
      "A title on the PowerPoint ends in a question mark",
      "Someone leaves while the presenter is talking to use the toilet",
      "Presenter affirms someone’s emotions or feelings",
      "Presenter stands with hands on hips",
      "Presenter moves closer to your group, and you immediately pretend to be talking about what you were asked to",
      "Presenter quotes an academic",
      "Presenter invites you to agree or disagree with an idea",
      "Event would be better with air conditioning",
      "Presenter “parks” a question",
      "Badly pronounced te reo whakataukī",
      "Presenter has a brown A3 bit of paper with “Questions” written on it pinned up in an obscure corner of the room",
      "Someone gets overly passionate or emotional",
      "Finish early",
      "Presenter will say something to the effect of, “You may have seen this before,” or “I may have shared this before.”",
      "The word wharepaku is used",
      "Someone is late back from lunch and awkwardly apologises or sneaks in",
      "Someone is sitting near a power outlet to charge their laptop",
      "Asked to share back a “key message”",
      "PowerPoint contains a graph",
      "The speaker is interrupted by a school bell",
      "Presenter gives out pens or coloured markers",
      "Presenter gives an over-the-top fake smile",
      "Presenter touches the fingers of each hand together",
      "A post-it fails to stay where it was placed",
      "Someone says something to the effect of, “I’ll share the slides with you later.”",
      "Someone takes a photograph of the slides from a ridiculous distance that they will never look at again",
      "You see someone on social media",
      "The presenter is wearing an overly flamboyant item of clothing showing how interesting and creative they are",
      "Presenter says, “I’m not an expert.”",
      "Presenter has oversized jewellery",
      "Te Aroha is sung",
      "PowerPoint has a GIF",
      "There will be a technical difficulty, and the presenter will make awkward jokes about it",
      "Someone will leave early but in an awkward way drawing too much attention to themselves",
      "A continuum is used in some way",
      "Two participants whisper incessantly",
      "PD starts with a video to get everyone in the mood",
      "Teachers (who should know better) don’t shut up when they should",
      "Someone leaves early to pick up the kids",
      "There is a task to “get you thinking.”",
      "PowerPoint contains a bullet-pointed list with more than four bullet points",
      "A title on the PowerPoint ends in an exclamation mark",
      "Presenter uses a phrase that could be interpreted in a dirty way, e.g., “Go slow, go deep, do it well...”",
      "The speaker makes a circular gesture with their hands to show “the whole” or the breadth or size of something",
      "The sound does not work on a video",
      "The speaker points at an audience member",
      "Someone thanks the presenter and may give them a gift as a token of appreciation for an appearance they are probably being paid quite well for",
      "The presenter displays a matrix",
      "The presenter displays some text that is far too small to read but carries on like it’s clearly legible",
      "The presenter displays a slide and then says, “Let’s just skip that one.”",
      "You hear a condescending repetition of something that has already been said",
      "Someone leaves to get more chairs",
      "Participant vehemently disagrees with presenter on a relatively minor point that didn’t really need extra discussion",
      "Presenter makes a reference to teacher workload",
      "One participant starts talking more than the presenter",
      "One participant sits on their computer and does not interact with anyone else",
      "Lunch is provided",
      "A primary teacher is overexcited and energetic",
      "A secondary school teacher is cool and aloof",
      "Management flits in and out during the day",
      "Agree to have a shorter lunch break but get to finish early",
      "Presenter has distinctive shoes",
      "Presenter’s joke falls flat",
      "Presenter says something to the effect of, “Please eat up; we don’t want anything left over.”",
      "Presenter says something to the effect of, “What are you going to take back to the classroom?”",
      "A participant keeps talking and acting like a god-damn hippy",
      "A participant rolls their eyes when someone else keeps acting like a god-damn hippy",
      "Someone identifies time as a reason for not implementing a change",
      "Someone identifies money as a reason for not implementing a change",
      "Presenter uses upbeat music to make the event more fun and engaging",
      "A word on the PowerPoint is written in ALL CAPS for effect",
      "Presenter includes a cartoon/joke on the PowerPoint as a brain break",
      "The term “blue sky thinking” is used",
      "The presenter shows a slide with a lot of text and says, “I’ll just give you a moment to read that.”",
      "Presenter describes learning with an interesting metaphor",
      "A question directed to someone who was clearly off task",
      "Presenter brandishes a pen like a wand or a sword",
      "Presenter shares a story or picture of a pet",
      "Presenter appears visibly nervous",
      "Someone cries",
      "Presenter says something to the effect of, “Now that you have had some lunch...”",
      "Presenter references themselves",
      "Presenter gets someone’s name wrong",
      "A wardrobe malfunction",
      "Someone’s phone goes off",
      "Participant doodles",
      "Presenter asks a question and gets no response",
      "Someone complains",
      "Participant asks for a copy of the slides",
      "Presenter apologises",
      "Someone laughs way too loudly",
      "Someone wears a distracting or unusual outfit",
      "Presenter uses an overly complex diagram",
      "Someone questions the relevance of the topic"
    ];

    const difficultySettings = {
      easy: { name: 'Easy', rows: 3, cols: 3, total: 9, emoji: '🟢' },
      normal: { name: 'Normal', rows: 4, cols: 5, total: 20, emoji: '🟡' },
      hard: { name: 'Hard', rows: 5, cols: 6, total: 30, emoji: '🟠' },
      epic: { name: 'Epic', rows: 6, cols: 6, total: 36, emoji: '🔴' }
    };
    const themeSettings = {
      classic: { name: 'Classic', primary: '#4285F4', secondary: '#E8F0FE', accent: '#1A73E8', emoji: '💙' },
      fire: { name: 'Fire', primary: '#FF5722', secondary: '#FFF3E0', accent: '#D84315', emoji: '🔥' },
      nature: { name: 'Nature', primary: '#4CAF50', secondary: '#F1F8E9', accent: '#2E7D32', emoji: '🌿' },
      royal: { name: 'Royal', primary: '#9C27B0', secondary: '#F3E5F5', accent: '#7B1FA2', emoji: '👑' },
      neon: { name: 'Neon', primary: '#E91E63', secondary: '#FCE4EC', accent: '#C2185B', emoji: '⚡' }
    };

    const LEADERBOARD_PATH = "bingo-multiplayer/players";
    let currentPlayerId = null;
    let currentGame = null;
    let currentGameKey = null;
    let currentThemeKey = 'classic';

    function showCreateGameModal() {
      document.getElementById('createGameModal').style.display = 'block';
      document.getElementById('playerName').focus();
    }
    function closeModal(modalId) {
      document.getElementById(modalId).style.display = 'none';
    }
    function showLeaderboard() {
      document.getElementById('mainMenu').style.display = 'none';
      document.getElementById('gameBoard').style.display = 'none';
      document.getElementById('leaderboard').style.display = 'block';
      updateLeaderboardUI();
    }
    function hideLeaderboard() {
      document.getElementById('leaderboard').style.display = 'none';
      document.getElementById('mainMenu').style.display = 'grid';
    }
    function backToMenu() {
      document.getElementById('gameBoard').style.display = 'none';
      document.getElementById('mainMenu').style.display = 'grid';
      if (currentGameKey) db.ref(LEADERBOARD_PATH + "/" + currentGameKey).remove();
      currentGame = null;
      currentGameKey = null;
      document.body.className = '';
    }

    function shuffleArray(array) {
      const arr = [...array];
      for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
      }
      return arr;
    }
    function createGame(playerName, difficulty, theme, deviceType) {
      const difficultyData = difficultySettings[difficulty];
      const themeData = themeSettings[theme];
      currentThemeKey = theme;
      const key = playerName.replace(/\W/g,"") + "_" + Date.now();
      currentGameKey = key;
      const selectedItems = shuffleArray([...checklistItems]).slice(0, difficultyData.total);
      const gameObj = {
        id: key,
        playerName, theme: themeData, themeKey: theme, difficulty: difficultyData, difficultyKey: difficulty,
        deviceType, items: selectedItems, completed: new Array(difficultyData.total).fill(false),
        completedCount: 0, created: new Date().toISOString()
      };
      db.ref(LEADERBOARD_PATH + "/" + key).set({
        id: key,
        name: playerName,
        difficulty: difficultyData.name,
        difficultyKey: difficulty,
        theme: themeData.name,
        themeKey: theme,
        completedCount: 0,
        totalItems: difficultyData.total,
        created: gameObj.created,
        timestamp: Date.now()
      });
      return gameObj;
    }
    function showGameBoard() {
      if (!currentGame) return;
      document.getElementById('mainMenu').style.display = 'none';
      document.getElementById('leaderboard').style.display = 'none';
      document.getElementById('gameBoard').style.display = 'block';
      document.body.className = `theme-${currentThemeKey}`;
      document.getElementById('gameTitle').textContent =
        `🎮 ${currentGame.playerName}'s ${currentGame.theme.name} ${currentGame.difficulty.name} Challenge`;
      document.getElementById('gameSubtitle').textContent =
        `${currentGame.difficulty.emoji} ${currentGame.difficulty.total} Items • ${currentGame.theme.emoji} ${currentGame.theme.name} Theme`;
      updateProgress();
      generateChecklist();
      updateLiveLeaderboardUI();
    }
    function generateChecklist() {
      const container = document.getElementById('checklistContainer');
      container.innerHTML = '';
      container.className = `checklist-grid ${currentGame.deviceType}`;
      currentGame.items.forEach((item, idx) => {
        const itemDiv = document.createElement('div');
        itemDiv.className = `checklist-item${currentGame.completed[idx] ? ' completed' : ''}`;
        const checkbox = document.createElement('input');
        checkbox.type = 'checkbox';
        checkbox.id = `item-${idx}`;
        checkbox.checked = currentGame.completed[idx];
        checkbox.addEventListener('change', () => toggleItem(idx));
        const label = document.createElement('label');
        label.htmlFor = `item-${idx}`;
        label.textContent = `${idx + 1}. ${item}`;
        itemDiv.appendChild(checkbox);
        itemDiv.appendChild(label);
        container.appendChild(itemDiv);
      });
    }
    function toggleItem(idx) {
      currentGame.completed[idx] = !currentGame.completed[idx];
      currentGame.completedCount = currentGame.completed.filter(Boolean).length;
      db.ref(LEADERBOARD_PATH + "/" + currentGameKey).update({
        completedCount: currentGame.completedCount,
        timestamp: Date.now()
      });
      updateProgress();
      generateChecklist();
    }
    function updateProgress() {
      const completed = currentGame.completedCount;
      const total = currentGame.difficulty.total;
      const percentage = Math.round((completed / total) * 100);
      document.getElementById('currentScore').textContent = completed;
      document.getElementById('totalItems').textContent = total;
      document.getElementById('completionPercent').textContent = `${percentage}%`;
      document.getElementById('progressMessage').textContent =
        completed === total ? "🎉 EPIC COMPLETION! YOU'RE A LEGEND! 🎉"
        : completed > total / 2 ? "🔥 You're on fire! Keep going!"
        : "💪 Just getting started!";
    }
    function updateLiveLeaderboardUI() {
      db.ref(LEADERBOARD_PATH).once('value').then(snapshot => {
        const players = snapshot.val() || {};
        const tbody = document.getElementById('liveLeaderboardBody');
        tbody.innerHTML = "";
        const relevantPlayers = Object.values(players).filter(p =>
          p.difficultyKey === currentGame.difficultyKey && p.themeKey === currentThemeKey
        );
        relevantPlayers.sort((a, b) => {
          const ap = (a.completedCount||0)/(a.totalItems||1);
          const bp = (b.completedCount||0)/(b.totalItems||1);
          if (bp !== ap) return bp-ap;
          return (b.completedCount||0)-(a.completedCount||0);
        });
        relevantPlayers.forEach(p => {
          const tr = document.createElement('tr');
          if (p.id === currentGameKey) tr.className = "me";
          const percent = Math.round((p.completedCount||0)/(p.totalItems||1)*100);
          tr.innerHTML = `<td>${p.name}</td>
            <td>${p.completedCount||0}/${p.totalItems}</td>
            <td>${difficultySettings[p.difficultyKey].emoji} ${p.difficulty}</td>
            <td>${themeSettings[p.themeKey].emoji} ${p.theme}</td>
            <td>${percent}%</td>`;
          tbody.appendChild(tr);
        });
      });
    }
    db.ref(LEADERBOARD_PATH).on('value', function() {
      updateLiveLeaderboardUI();
      updateLeaderboardUI();
    });
    function updateLeaderboardUI() {
      db.ref(LEADERBOARD_PATH).once('value').then(snapshot => {
        const players = snapshot.val() || {};
        const tbody = document.getElementById('leaderboardBody');
        tbody.innerHTML = "";
        const sorted = Object.values(players).sort((a, b) => {
          const ap = (a.completedCount||0)/(a.totalItems||1);
          const bp = (b.completedCount||0)/(b.totalItems||1);
          if (bp !== ap) return bp-ap;
          return (b.completedCount||0)-(a.completedCount||0);
        });
        sorted.forEach((p, idx) => {
          const percent = Math.round((p.completedCount||0)/(p.totalItems||1)*100);
          const tr = document.createElement('tr');
          if (currentGameKey && p.id === currentGameKey) tr.className = "me";
          tr.innerHTML = `<td>${idx+1}</td>
            <td>${p.name}</td>
            <td>${p.completedCount||0}/${p.totalItems}</td>
            <td>${difficultySettings[p.difficultyKey]?.emoji||""} ${p.difficulty}</td>
            <td>${themeSettings[p.themeKey]?.emoji||""} ${p.theme}</td>
            <td>${percent}%</td>
            <td>${p.created ? new Date(p.created).toLocaleDateString() : ""}</td>`;
          tbody.appendChild(tr);
        });
      });
    }
    function showAdminPanel() {
      const password = prompt("Enter admin password:");
      if (password !== "admin123") {
        alert("❌ Incorrect password!");
        return;
      }
      const action = confirm("🗑️ Reset all game data? This cannot be undone!\n\nOK = Reset All\nCancel = Go Back");
      if (action) {
        if (confirm("⚠️ FINAL WARNING: This will delete ALL player games and scores!")) {
          db.ref(LEADERBOARD_PATH).remove().then(() => {
            alert("✅ All game data has been reset!");
            location.reload();
          });
        }
      }
    }
    window.addEventListener('click', function(e) {
      if (e.target.classList.contains('modal')) {
        e.target.style.display = 'none';
      }
    });
    function detectMobile() {
      return window.innerWidth <= 768 || /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    }
    window.addEventListener('load', function() {
      if (detectMobile()) {
        document.getElementById('deviceType').value = 'mobile';
      }
    });
    document.getElementById('createGameForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const playerName = document.getElementById('playerName').value.trim();
      const difficulty = document.getElementById('difficulty').value;
      const theme = document.getElementById('theme').value;
      const deviceType = document.getElementById('deviceType').value;
      if (!playerName) {
        alert("⚠️ Please enter a player name!");
        return;
      }
      if (currentGameKey) db.ref(LEADERBOARD_PATH + "/" + currentGameKey).remove();
      currentGame = createGame(playerName, difficulty, theme, deviceType);
      closeModal('createGameModal');
      showGameBoard();
      setTimeout(() => {
        alert(`🎉 ${themeSettings[theme].emoji} Epic ${difficultySettings[difficulty].name} board created for ${playerName}! ${difficultySettings[difficulty].emoji}`);
      }, 500);
    });
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        const modals = document.querySelectorAll('.modal');
        modals.forEach(modal => { if (modal.style.display === 'block') modal.style.display = 'none'; });
      }
      if (e.key === ' ' && currentGame && e.target.tagName !== 'INPUT') {
        e.preventDefault();
        const firstUnchecked = currentGame.completed.findIndex(completed => !completed);
        if (firstUnchecked !== -1) document.getElementById(`item-${firstUnchecked}`).click();
      }
    });
    window.addEventListener('beforeunload', function() {
      if (currentGameKey) db.ref(LEADERBOARD_PATH + "/" + currentGameKey).remove();
    });
  </script>
</body>
</html>
```
This is your fully copy-pastable file with your custom conference bingo item list and all features (themes, mobile, multiplayer, leaderboard) included!
